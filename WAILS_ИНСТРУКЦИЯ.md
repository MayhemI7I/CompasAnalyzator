# üñ•Ô∏è Wails Desktop - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ!

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã. Node.js v22.17.0 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ

---

## üöÄ –°–±–æ—Ä–∫–∞ Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ bat-—Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```cmd
wails_build.bat
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –°–∫–∞—á–∞—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è Wails bindings
3. –°–æ–±–µ—Ä–µ—Ç—Å—è desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `build\bin\CompassAnalyzer.exe` (~10-15 –ú–ë)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é

```cmd
# 1. –°–∫–∞—á–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod download

# 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å bindings
wails generate module

# 3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
wails build -f main_desktop.go
```

---

## üî• –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Hot Reload):

```cmd
wails_dev.bat
```

–ò–ª–∏:
```cmd
wails dev -f main_desktop.go
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è HTML/CSS/JS –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
CompasAnalyzer/
‚îú‚îÄ‚îÄ main_desktop.go          ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Wails
‚îú‚îÄ‚îÄ desktop/
‚îÇ   ‚îî‚îÄ‚îÄ app.go              ‚Üê Go API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ wails.json              ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Wails
‚îú‚îÄ‚îÄ go.mod                  ‚Üê –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—á–∏—Å—Ç—ã–π, –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)
‚îú‚îÄ‚îÄ webui/static/
‚îÇ   ‚îú‚îÄ‚îÄ index.html          ‚Üê HTML (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ app_wails.js        ‚Üê JS (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ Wails, –∏ –≤ Web)
‚îÇ   ‚îî‚îÄ‚îÄ styles.css          ‚Üê CSS
‚îú‚îÄ‚îÄ frontend/               ‚Üê –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Wails bindings
‚îú‚îÄ‚îÄ build/bin/              ‚Üê –ì–æ—Ç–æ–≤—ã–π .exe –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ wails_build.bat         ‚Üê –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ wails_dev.bat           ‚Üê –°–∫—Ä–∏–ø—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. **Go Backend (desktop/app.go)**

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è JavaScript:

```go
func (a *App) AnalyzeCompass(folderPath string, config analyzer.AnalysisConfig) AnalysisResponse
func (a *App) BatchAnalyze(dataDir string, config analyzer.AnalysisConfig) []AnalysisResponse
func (a *App) GetDefaultConfig() analyzer.AnalysisConfig
```

### 2. **JavaScript Frontend (app_wails.js)**

–í—ã–∑—ã–≤–∞–µ—Ç Go —Ñ—É–Ω–∫—Ü–∏–∏:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º (Wails –∏–ª–∏ Web)
if (window.go && window.go.desktop && window.go.desktop.App) {
    // Wails Desktop —Ä–µ–∂–∏–º
    data = await window.go.desktop.App.AnalyzeCompass(folderPath, config);
} else {
    // Web —Ä–µ–∂–∏–º
    const response = await fetch('/api/analyze', {...});
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö!

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (wails.json):

```json
{
  "name": "compass_analyzer_desktop",
  "outputfilename": "CompassAnalyzer",
  "assetdir": "./webui/static",
  "info": {
    "companyName": "–ú–¢–¶",
    "productName": "Compass Analyzer Desktop",
    "productVersion": "2.0"
  }
}
```

---

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

**–¢–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ**, –∫–∞–∫ –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏:
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–∞—Å–∞
- ‚úÖ –ü–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ —Å –∑—É–º–æ–º
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –±—Ä–∞–∫–æ–≤
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON/CSV
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–û—Ç–ª–∏—á–∏—è –æ—Ç –≤–µ–±-–≤–µ—Ä—Å–∏–∏:**
- üñ•Ô∏è –ù–∞—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ Windows
- ‚ö° –ù–µ –Ω—É–∂–µ–Ω –±—Ä–∞—É–∑–µ—Ä
- üì¶ –û–¥–∏–Ω .exe —Ñ–∞–π–ª
- üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:

### 1. "wails: command not found"

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
go install github.com/wailsapp/wails/v2/cmd/wails@latest
```

### 2. "Node.js required"

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
node --version  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 16+)
```

–£ –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ v22.17.0

### 3. "build failed: cannot find package"

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
go mod download
go mod tidy
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤:

| –§—É–Ω–∫—Ü–∏—è | Web (start_web.bat) | Desktop (wails_build.bat) |
|---------|---------------------|---------------------------|
| **–û–∫–Ω–æ** | –ë—Ä–∞—É–∑–µ—Ä | –ù–∞—Ç–∏–≤–Ω–æ–µ Windows –æ–∫–Ω–æ |
| **–ó–∞–ø—É—Å–∫** | –ù—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä | –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ .exe |
| **–†–∞–∑–º–µ—Ä** | 5 –ú–ë | 10-15 –ú–ë |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏) |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | ‚úÖ –ü–æ–ª–Ω—ã–π | ‚úÖ –ü–æ–ª–Ω—ã–π |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** | ‚úÖ | ‚úÖ |
| **–ì—Ä–∞—Ñ–∏–∫–∏** | ‚úÖ | ‚úÖ |
| **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ** | –ù—É–∂–µ–Ω Go | –û–¥–∏–Ω .exe |

---

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### 1. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

```cmd
wails_build.bat
```

–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: **"‚úÖ –°–ë–û–†–ö–ê –£–°–ü–ï–®–ù–ê!"**

### 2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**

```cmd
build\bin\CompassAnalyzer.exe
```

–ò–ª–∏ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∞–π–ª–µ!

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**

- –í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –∫–æ–º–ø–∞—Å–∞
- –ù–∞–∂–º–∏—Ç–µ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 4. **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ:**

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `CompassAnalyzer.exe` –Ω–∞ –¥—Ä—É–≥–æ–π –ü–ö - –æ–Ω –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏!

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ **–í–µ–±-–≤–µ—Ä—Å–∏—è**: `start_web.bat`
- ‚úÖ **Desktop –≤–µ—Ä—Å–∏—è**: `wails_build.bat` ‚Üí `CompassAnalyzer.exe`

**–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥!**

---

## üí° –°–æ–≤–µ—Ç—ã:

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```cmd
wails_dev.bat  # Hot reload
```

### –î–ª—è —Å–±–æ—Ä–∫–∏ production:

```cmd
wails build -f main_desktop.go -clean
```

### –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ (Windows):

```cmd
wails build -nsis
```

–°–æ–∑–¥–∞—Å—Ç `.msi` —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫!

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `node --version`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à: `go clean -cache`
4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ: `wails build -clean -f main_desktop.go`

---

**–ü—Ä–∏—Å—Ç—É–ø–∞–π—Ç–µ –∫ —Å–±–æ—Ä–∫–µ!** üöÄ

```cmd
wails_build.bat
```

