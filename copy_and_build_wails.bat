@echo off
chcp 65001 > nul

echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë   –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –í –ü–£–¢–¨ –ë–ï–ó –ö–ò–†–ò–õ–õ–ò–¶–´ –ò –°–ë–û–†–ö–ê WAILS       ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.

REM –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –±–µ–∑ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
if not exist "C:\Projects" (
    echo [1/3] üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ C:\Projects...
    mkdir "C:\Projects"
    echo ‚úÖ –ü–∞–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
) else (
    echo [1/3] ‚úÖ –ü–∞–ø–∫–∞ C:\Projects —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
)

echo.
echo [2/3] üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ C:\Projects\CompasAnalyzer...
echo ‚è≥ –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã...

REM –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
xcopy /E /I /Y "%~dp0*" "C:\Projects\CompasAnalyzer" >nul 2>&1

if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!
) else (
    echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è!
    pause
    exit /b 1
)

echo.
echo [3/3] üöÄ –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ Wails –≤ –Ω–æ–≤–æ–π –ø–∞–ø–∫–µ...
echo.

cd /d C:\Projects\CompasAnalyzer

if exist wails_build_final.bat (
    call wails_build_final.bat
) else (
    echo ‚ùå –§–∞–π–ª wails_build_final.bat –Ω–µ –Ω–∞–π–¥–µ–Ω!
    pause
    exit /b 1
)

